<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker with Configurable Pagination</title>
</head>
<body>

<div id="app">
    <h2>Expense Tracker</h2>
    <label>
        Expenses per page:
        <input type="number" id="expensesPerPageInput" min="1" max="50" />
    </label>
    <table id="expense-table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Category</th>
                <th>Description</th>
                <th>Amount</th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>

    <div class="pagination">
        <button onclick="prevPage()" id="prev-btn">Previous</button>
        <span id="page-info"></span>
        <button onclick="nextPage()" id="next-btn">Next</button>
    </div>
</div>

<script>
    const expenses = [
        { date: '2024-10-28', category: 'Food', description: 'Lunch', amount: 10 },
        { date: '2024-10-27', category: 'Transport', description: 'Train', amount: 5 },
        // Add more sample data
    ];
    let currentPage = 1;
    let expensesPerPage = parseInt(localStorage.getItem('expensesPerPage')) || 10;

    document.getElementById("expensesPerPageInput").value = expensesPerPage;
    document.getElementById("expensesPerPageInput").addEventListener("change", (event) => {
        expensesPerPage = parseInt(event.target.value);
        localStorage.setItem("expensesPerPage", expensesPerPage);
        currentPage = 1;
        renderTable(currentPage);
    });

    function renderTable(page) {
        const start = (page - 1) * expensesPerPage;
        const end = page * expensesPerPage;
        const currentExpenses = expenses.slice(start, end);

        const tbody = document.getElementById('expense-table').querySelector('tbody');
        tbody.innerHTML = '';
        currentExpenses.forEach(expense => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${expense.date}</td>
                <td>${expense.category}</td>
                <td>${expense.description}</td>
                <td>$${expense.amount.toFixed(2)}</td>
            `;
            tbody.appendChild(row);
        });

        document.getElementById('page-info').textContent = `Page ${page} of ${Math.ceil(expenses.length / expensesPerPage)}`;
        document.getElementById('prev-btn').disabled = page === 1;
        document.getElementById('next-btn').disabled = page === Math.ceil(expenses.length / expensesPerPage);
    }

    function nextPage() {
        if (currentPage < Math.ceil(expenses.length / expensesPerPage)) {
            currentPage++;
            renderTable(currentPage);
        }
    }

    function prevPage() {
        if (currentPage > 1) {
            currentPage--;
            renderTable(currentPage);
        }
    }

    renderTable(currentPage);
</script>

</body>
</html>
